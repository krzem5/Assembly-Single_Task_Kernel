# b = bool
# B = byte
# H = word
# I = dword
# Q = qword
# S = str
# Z = buffer
# @index = second arg index
# <type> = element type

%kernel/fd/fd.h

fd_close:Q
fd_dup:QI
fd_iter_get:QZ@2Q
fd_iter_next:Q
fd_iter_start:Q
fd_iter_stop:Q
fd_open:QSI
fd_path:QZ@2Q
fd_read:QZ@2QI
fd_resize:QQI
fd_seek:QQI
fd_stat:QZ@2Q
fd_write:QZ@2QI

# TODO APIs:
# better memory api (alloc + counters + locks)
# drive buffering (internal)
# process_get_acl(handle), thread_get_acl(handle)
# ACLs -> acl_get_permissions(handle), acl_set_permissions(handle,clear,set)
# sockets -> socket_create(domain,type,protocol), socket_create_pair(out[2]), socket_connect(handle,address,address_length), socket_bind(handle,address,address_length), socket_listen(handle,max_connections), socket_accept(handle), socket_getsockname, socket_getpeername, socket_recvfrom, socket_recvmsg, socket_sento, socket_sendmsg, socket_shutdown
